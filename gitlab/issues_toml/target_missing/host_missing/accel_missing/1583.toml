id = 1583
title = "SGX Device mapping is not listed into QEMU KVM"
state = "opened"
created_at = "2023-04-06T11:04:49.659Z"
closed_at = "n/a"
labels = []
url = "https://gitlab.com/qemu-project/qemu/-/issues/1583"
host-os = "Ubuntu 22.04"
host-arch = "x86"
qemu-version = "6.2.0"
guest-os = "Ubuntu 20.04"
guest-arch = "x86"
description = """I want to run SGX into QEMU VM, the vm is up and running but SGX device mappings are not listed there. I also looked in dmesg | grep sgx and it returned "There are zero epc section"

I have upgraded the libvirt to 8.6.0 because of below issue
https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1982896

I tried with libvirt-8.0.0 but it did not help

I have attached the xml, please let me know why sgx mappings are not showing inside VM"""
reproduce = """1. Create a Ubuntu 20.04 VM with SGX mapping"""
additional = """Please let me know if any other logs are required




[ubuntu20.04.xml](/uploads/2609abc31db08e04cc3e3dbf923cd8d7/ubuntu20.04.xml)"""
