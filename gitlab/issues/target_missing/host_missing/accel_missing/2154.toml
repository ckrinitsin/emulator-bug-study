id = 2154
title = "ID_AA64MMFR2_EL1 is all zeros"
state = "closed"
created_at = "2024-02-07T15:32:57.377Z"
closed_at = "2024-02-09T11:59:43.566Z"
labels = ["Closed::Invalid"]
url = "https://gitlab.com/qemu-project/qemu/-/issues/2154"
host-os = "MacOS Sonoma 14.0"
host-arch = "Apple M1 (aarch64)"
qemu-version = "8.2.1"
guest-os = "Custom"
guest-arch = "aarch64"
description = """When the `ID_AA64MMFR2_EL1` register is read via `mrs x[n], ID_AA64MMFR2_EL1`, it is read as all zeros. This is at the very least not correct for `ID_AA64MMFR2_EL1.ST`, which describes support for small translation tables (FEAT_TTST)."""
reproduce = """1. Run `mrs x[n], ID_AA64MMFR2_EL1` within qemu-system-aarch64"""
additional = """FEAT_TTST is a relatively new aarch64 feature that appears to have caused many problems basically everywhere. However, [qemu has reportedly implemented it](https://www.qemu.org/2021/04/30/qemu-6-0-0/)."""
