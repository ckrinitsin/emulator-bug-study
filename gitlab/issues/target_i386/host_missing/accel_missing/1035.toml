id = 1035
title = "Hyper-V on KVM does not work on AMD CPUs"
state = "opened"
created_at = "2022-05-23T20:57:34.988Z"
closed_at = "n/a"
labels = ["target: i386"]
url = "https://gitlab.com/qemu-project/qemu/-/issues/1035"
host-os = "Proxmox 7.2"
host-arch = "x86"
qemu-version = "QEMU emulator version 6.2.0 (pve-qemu-kvm_6.2.0)"
guest-os = "Windows 11"
guest-arch = "AMD64"
description = """Can not enable hytper-v on KVM on AMD 3970x
```
[ 3743.647780] SVM: kvm [17094]: vcpu0, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.014046] SVM: kvm [17094]: vcpu1, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.016101] SVM: kvm [17094]: vcpu2, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.018011] SVM: kvm [17094]: vcpu3, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.020032] SVM: kvm [17094]: vcpu4, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.021834] SVM: kvm [17094]: vcpu5, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.023644] SVM: kvm [17094]: vcpu6, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
[ 3744.025478] SVM: kvm [17094]: vcpu7, guest rIP: 0xfffff8125288d7d7 unimplemented wrmsr: 0xc0010115 data 0x0
```"""
reproduce = "n/a"
additional = """Related issue:
https://bugzilla.kernel.org/show_bug.cgi?id=203477"""
