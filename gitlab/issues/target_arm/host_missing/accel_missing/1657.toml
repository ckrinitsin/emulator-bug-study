id = 1657
title = "Unable to use ide hard drive when using xlnx-zcu102 board"
state = "opened"
created_at = "2023-05-17T08:04:26.630Z"
closed_at = "n/a"
labels = ["target: arm"]
url = "https://gitlab.com/qemu-project/qemu/-/issues/1657"
host-os = "ubuntu1~22.04.1"
host-arch = "x86"
qemu-version = "7.2.0"
guest-os = "- OS/kernel version:"
guest-arch = "aarch64"
description = """I have only recently started using qemu and am reading content related to ahci. When I started QEMU using the above command line (I did not specify the Linux kernel because I only wanted to see which devices were initialized on the motherboard), I found the following devices in the device tree:
 ```
dev: sysbus-ahci, id ""

gpio-out "sysbus-irq" 1

num-ports = 2 (0x2)

mmio 00000000fd0c0000/0000000000001000

bus: ide.1

type IDE

bus: ide.0

type IDE
 ```

I think this is similar to the ICH9 ahci device, so I tried to mount an IDE hard drive（using command line：-drive file=./testide.img）but failed. QEMU shows
 ```
qemu-system-aarch64: -drive file=./ testide.img: machine type does not support if=ide,bus=0,unit=0
 ```
So if the ide bus generated by sysbus ahci cannot mount a hard drive, what device should it mount?
It will be grateful if anyone can answer this question."""
reproduce = """1.
2.
3."""
additional = """"""
