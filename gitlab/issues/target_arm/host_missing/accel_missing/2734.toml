id = 2734
title = "many aarch64 machines exit with \"fatal: Lockup: can't escalate 3 to HardFault\""
state = "closed"
created_at = "2024-12-20T07:21:02.991Z"
closed_at = "2025-02-28T15:46:47.539Z"
labels = ["target: arm"]
url = "https://gitlab.com/qemu-project/qemu/-/issues/2734"
host-os = "Ubuntu 24.04.1 LTS"
host-arch = "x86_64"
qemu-version = "QEMU emulator version 9.2.50 (v9.2.0-319-gca80a5d026)"
guest-os = "custom"
guest-arch = "aarch64"
description = """`-machine netduino2` and `-machine microbit` and many others dump core"""
reproduce = """```
qemu-system-aarch64 -machine netduino2
qemu-system-aarch64 -machine microbit
...
$ for x in microbit netduino2 b-l475e-iot01a emcraft-sf2 fby35-bmc lm3s6965evb lm3s811evb musca-a musca-b1 netduinoplus2 olimex-stm32-h405 stm32vldiscovery
do qemu-system-aarch64 -machine $x
done
```
and all the `mps2-*` machines all result in 
```
qemu: fatal: Lockup: can't escalate 3 to HardFault (current priority -1)

R00=00000000 R01=00000000 R02=00000000 R03=00000000
R04=00000000 R05=00000000 R06=00000000 R07=00000000
R08=00000000 R09=00000000 R10=00000000 R11=00000000
R12=00000000 R13=ffffffe0 R14=fffffff9 R15=00000000
XPSR=40000003 -Z-- A handler
FPSCR: 00000000
Aborted (core dumped)
```"""
additional = "n/a"
