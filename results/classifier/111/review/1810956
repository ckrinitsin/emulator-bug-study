semantic: 0.154
boot: 0.119
device: 0.117
other: 0.100
files: 0.087
graphic: 0.080
network: 0.058
vnc: 0.055
socket: 0.046
PID: 0.042
permissions: 0.040
debug: 0.036
performance: 0.035
KVM: 0.031
debug: 0.449
boot: 0.149
KVM: 0.116
files: 0.089
other: 0.051
PID: 0.031
device: 0.027
performance: 0.016
graphic: 0.016
network: 0.015
semantic: 0.012
socket: 0.012
vnc: 0.008
permissions: 0.007

qemu-2.12.1 crashes when running malicious bootloader.

Running specific bootloader on Qemu causes fatal error and 
hence SIGABRT in /qemu-2.12.1/tcg/tcg.c on line 2684.

Bootloader binary code is included in attachments.
The code was generated by assembling a valid bootloader, then
appending random-bytes from file `/dev/urandom` to the binary file.



This is a bug, obviously, but note that we do not guarantee TCG binary translation to be a security boundary against malicious code. Don't run guest code you don't trust inside TCG without further sandboxing around QEMU. (Much of the code that runs in a TCG configuration is old and unaudited, so there may be lurking bugs. Configurations using KVM are the only ones where we treat guest escapes as security bugs.)


I think this bug was fixed in QEMU 3.1 -- I can reproduce the assert on 3.0 but not on 3.1.


