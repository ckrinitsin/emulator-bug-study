

Virtual fat breaks with -snapshot

When using fat emulation together with snapshot, qemu fails to find the directory for the fat "filesystem".

See Debian bug#504049, http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=504049 and discussion on qemu-devel with Kevin Wolf, http://marc.info/?t=126850802800001 for details.

There's a workaround for this bug: when using full path for fat:/dir/name it works.