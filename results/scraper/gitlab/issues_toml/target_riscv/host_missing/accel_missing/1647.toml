id = 1647
title = "Potential Bug in RISCV Hypervisor Extension: Timer Interrupt Handling in QEMU v8.0.0-rc1"
state = "opened"
created_at = "2023-05-12T02:41:56.024Z"
closed_at = "n/a"
labels = ["target: riscv", "workflow::Triaged"]
url = "https://gitlab.com/qemu-project/qemu/-/issues/1647"
host-os = "Ubuntu 20.04.5 LTS"
host-arch = "x86_64"
qemu-version = "v8.0.0-rc1"
guest-os = "Linux"
guest-arch = "RISCV"
description = "n/a"
reproduce = """1. Build and run a simple hypervisor on QEMU v8.0.0-rc1 with the hypervisor extension feature of RISCV.
2. Set up hideleg, henvcfg, etc., in hypervisor and run the Linux kernel.
3. Observe the issue of infinite loop caused by the pending timer interrupt."""
additional = """Linux version: riscv_aia_v1 from github.com/avpatel/linux
OpenSBI version: Modified 1.1

I would greatly appreciate it if you could kindly provide some guidance. Is this behavior expected or could this be a bug? I've tried to provide a detailed analysis of my observations, but I'm not 100% certain if my understanding is correct.

Thank you for your time and consideration."""
